<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionário — EnglishPlay</title>

    <link rel="stylesheet" href="estilo.css">

    <style>
        .quiz-container {
            width: 650px;
            margin: 140px auto;
            background: #111;
            border: 3px solid #ffcc00;
            border-radius: 20px;
            padding: 25px;
        }

        .quiz-title {
            font-size: 28px;
            font-weight: 700;
            color: #ffcc00;
            margin-bottom: 25px;
            text-align: center;
        }

        .quiz-question {
            margin: 22px 0 10px;
            font-size: 20px;
            font-weight: 600;
        }

        .option {
            width: 100%;
            background: #1a1a1a;
            border: 2px solid #333;
            border-radius: 14px;
            padding: 12px;
            margin: 8px 0;
            cursor: pointer;
            transition: 0.2s;
        }

        .option:hover {
            border-color: #ffcc00;
            transform: scale(1.03);
        }

        .btn-finalizar {
            margin-top: 25px;
            width: 100%;
            padding: 14px;
            font-size: 18px;
            background: #ffcc00;
            color: black;
            border-radius: 18px;
            font-weight: 700;
            cursor: pointer;
        }
    </style>
</head>
<body>

<!-- NAVBAR -->
<div class="navbar">
    <div class="nav-left" onclick="location.href='index.html'">
        <img src="logo.png">
        <div class="nav-title">EnglishPlay</div>
    </div>

    <input type="text" class="search-box" disabled placeholder="Questionário">

    <button class="btn-yellow" onclick="sair()">Sair</button>
</div>

<div class="quiz-container">

    <div class="quiz-title">Questionário Inicial</div>

    <!-- Perguntas -->
    <div id="quizArea"></div>

    <button class="btn-finalizar" onclick="finalizarQuiz()">Finalizar</button>
</div>

<script src="storage.js"></script>
<script src="mascotes.js"></script>

<script>
/* ============================================================
   PERGUNTAS DO QUESTIONÁRIO
============================================================ */

const perguntas = [
    {
        id: "origem",
        texto: "Como você ficou sabendo do EnglishPlay?",
        opcoes: [
            "Instagram", "TikTok", "Amigos", "Pesquisa na internet", "Outro"
        ]
    },
    {
        id: "meta",
        texto: "Qual sua meta diária?",
        opcoes: [
            "5 minutos", "10 minutos", "15 minutos", "30 minutos", "1 hora"
        ]
    },
    {
        id: "objetivo",
        texto: "Por que você quer aprender inglês?",
        opcoes: [
            "Estudos", "Trabalho", "Viagens", "Hobby", "Outro"
        ]
    },
    {
        id: "nivel",
        texto: "Quanto você entende de inglês?",
        opcoes: [
            "Nada", "Pouco", "Consigo entender o básico", "Converso bem", "Sou avançado"
        ]
    },
    {
        id: "motivacao",
        texto: "O que mais te motiva a aprender?",
        opcoes: [
            "Melhor futuro", "Auto melhoria", "Pressão externa", "Diversão", "Quero ser fluente"
        ]
    }
];

let respostas = {};

/* ========================================
   GERAR O QUESTIONÁRIO NA TELA
=========================================== */

let area = document.getElementById("quizArea");

perguntas.forEach(q => {
    let bloco = document.createElement("div");

    bloco.innerHTML = `
        <div class="quiz-question">${q.texto}</div>
    `;

    q.opcoes.forEach(op => {
        let opt = document.createElement("div");
        opt.className = "option";
        opt.textContent = op;

        opt.onclick = () => {
            respostas[q.id] = op;
            mascoteFala("Resposta marcada!");
        };

        bloco.appendChild(opt);
    });

    area.appendChild(bloco);
});

/* ========================================
   FINALIZAR QUESTIONÁRIO
=========================================== */

function finalizarQuiz() {
    if (Object.keys(respostas).length < perguntas.length) {
        alert("Responda todas as perguntas antes de finalizar.");
        return;
    }

    saveQuestionario(respostas);

    mascoteFala("Ótimo! Agora vamos começar!");

    setTimeout(() => {
        location.href = "index.html";
    }, 1200);
}

function sair() {
    logout();
}
</script>

</body>
</html>
