
<!doctype html><html lang="pt-BR"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Login — EnglishPlay</title><link rel="stylesheet" href="style.css"></head><body>
<header class="site-header"><div class="logo">EnglishPlay</div></header>
<main class="container"><section class="card" style="max-width:720px;margin:40px auto;text-align:center">
<h2>Login ou Cadastro</h2>
<div style="display:flex;gap:12px;justify-content:center;margin-top:18px"><button id="btnLogin" class="btn">Login</button><button id="btnRegister" class="btn">Cadastro</button></div>
<div id="authArea" style="margin-top:18px"></div>
<p class="footer-note">Suporte: suporteenglishplay@gmail.com</p>
</section></main>
<script>
function getUsers(){ try{ return JSON.parse(localStorage.getItem('ep_users')||'[]') }catch(e){ return [] } }
function saveUsers(u){ localStorage.setItem('ep_users', JSON.stringify(u)) }
function setCurrent(email){ localStorage.setItem('ep_current', email) }
document.getElementById('btnLogin').addEventListener('click', renderLogin);
document.getElementById('btnRegister').addEventListener('click', renderRegister);
function renderLogin(){ document.getElementById('authArea').innerHTML = '<h3>Login</h3><input id="li-email" class="input" placeholder="Email"><br><input id="li-pass" class="input" type="password" placeholder="Senha"><br><div style="text-align:center;margin-top:8px"><button id="doLogin" class="btn">Entrar</button></div>'; document.getElementById('doLogin').addEventListener('click', doLogin); }
function renderRegister(){ document.getElementById('authArea').innerHTML = '<h3>Cadastro</h3><input id="re-email" class="input" placeholder="Email"><br><input id="re-name" class="input" placeholder="Nome"><br><input id="re-pass" class="input" type="password" placeholder="Senha"><br><input id="re-age" class="input" type="number" placeholder="Idade"><br><div style="text-align:center;margin-top:8px"><button id="doRegister" class="btn">Criar conta</button></div>'; document.getElementById('doRegister').addEventListener('click', doRegister); }
function doLogin(){ var email = document.getElementById('li-email').value.trim(); var pass = document.getElementById('li-pass').value; var users = getUsers(); var u = users.find(x=> x.email === email && x.password === pass); if(!u){ alert('Email ou senha incorretos'); return; } setCurrent(email); window.location.href = 'index.html'; }
function doRegister(){ var email = document.getElementById('re-email').value.trim(); var name = document.getElementById('re-name').value.trim(); var pass = document.getElementById('re-pass').value; var age = document.getElementById('re-age').value || 0; if(!email||!name||!pass){ alert('Preencha todos os campos'); return; } var users = getUsers(); if(users.find(x=> x.name.toLowerCase() === name.toLowerCase())){ alert('Nome já existe'); return; } if(users.find(x=> x.email === email)){ alert('Email já cadastrado'); return; } var nu = { email: email, name: name, age: age, password: pass, score: 0, streak: 0, completed: [], friends: [], notifications: [], avatar: null }; users.push(nu); saveUsers(users); setCurrent(email); window.location.href = 'index.html?new=1'; }
</script></body></html>
