<!doctype html>
<html lang="pt-BR">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>EnglishPlay — Aula 1</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header class="site-header"><div class="logo">EnglishPlay — Aula 1</div><nav class="nav"><a href="index.html">Início</a><a href="lesson2.html">Aula 2</a><a href="profile.html">Perfil</a></nav></header>
<main class="container">
  <section class="card">
    <h2>Aula 1 — Saudações</h2>
    <div class="characters">
      <div class="char"><img src="srtv.png" alt="Sr TV"><div class="name">Sr. TV</div></div>
      <div class="char"><img src="emma.png" alt="Emma"><div class="name">Emma</div></div>
      <div class="char"><img src="jake.png" alt="Jake"><div class="name">Jake</div></div>
    </div>
    <p id="qtext">Ouça e escolha a tradução correta:</p>
    <div id="opts" class="options"></div>
    <div style="margin-top:12px"><button id="btnNext" class="btn">Próxima</button></div>
    <div class="small">Pontuação nesta aula: <span id="score">0</span></div>
  </section>
</main>
<script>
const steps = [
  {type:'say',who:'tv',text:'Bem-vindo! Nesta aula você vai aprender saudações.'},
  {type:'say',who:'emma',text:'Hello'},
  {type:'quiz',text:'Qual é a tradução de Hello?',options:['Bom dia','Olá','Boa noite'],answer:1,pts:10,who:'emma'},
  {type:'say',who:'jake',text:'Hi'},
  {type:'quiz',text:'Hi significa?',options:['Tchau','Oi','Obrigado'],answer:1,pts:10,who:'jake'},
  {type:'say',who:'emma',text:'Good morning'},
  {type:'quiz',text:'Good morning é?',options:['Boa noite','Bom dia','Olá'],answer:1,pts:15,who:'emma'}
];
let idx=0, score=0;
const qtext = document.getElementById('qtext'), opts = document.getElementById('opts'), scoreEl = document.getElementById('score');
function speak(text,lang){ try{ const u = new SpeechSynthesisUtterance(text); u.lang = lang || 'en-US'; speechSynthesis.speak(u);}catch(e){} }
function next(){ if(idx>=steps.length){ qtext.textContent = 'Aula concluída! Pontuação: '+score; opts.innerHTML='<a href="index.html" class="btn">Voltar</a> <a href="profile.html" class="btn">Ver Perfil</a>'; return; } const s=steps[idx]; if(s.type==='say'){ qtext.textContent = s.who.toUpperCase()+': '+s.text; opts.innerHTML = '<button class="btn" onclick="speak(\''+s.text+'\',\'en-US\')">Ouvir</button>'; idx++; } else if(s.type==='quiz'){ qtext.textContent = s.text; opts.innerHTML=''; s.options.forEach((o,i)=>{ const b=document.createElement('button'); b.className='btn opt'; b.textContent=o; b.onclick=()=>{ if(i===s.answer){ b.style.outline='3px solid rgba(126,231,135,0.5)'; score+=s.pts||10; scoreEl.textContent=score; playCorrect(); } else { b.style.outline='3px solid rgba(255,100,100,0.4)'; playWrong(); } Array.from(opts.querySelectorAll('button')).forEach(bb=>bb.disabled=true); setTimeout(()=>{ idx++; next(); },900); }; opts.appendChild(b); }); } }
document.getElementById('btnNext').addEventListener('click', ()=> next());
function playCorrect(){ try{ new Audio('https://cdn.pixabay.com/download/audio/2022/03/15/audio_ee19b5c9b7.mp3?filename=trumpet-6058.mp3').play(); confetti(); }catch(e){} }
function playWrong(){ try{ new Audio('https://cdn.pixabay.com/download/audio/2022/03/15/audio_7b35a46b3c.mp3?filename=incorrect-answer-6268.mp3').play(); sparks(); }catch(e){} }
function confetti(){ for(let i=0;i<50;i++){ const p=document.createElement('div'); p.style.position='fixed'; p.style.left=(Math.random()*100)+'%'; p.style.top='20%'; p.style.width='8px'; p.style.height='8px'; p.style.background=(i%2? '#7ee787':'#60a5fa'); document.body.appendChild(p); setTimeout(()=>p.remove(),1600); } }
function sparks(){ for(let i=0;i<30;i++){ const p=document.createElement('div'); p.style.position='fixed'; p.style.left=(50+ (Math.random()-0.5)*20)+'%'; p.style.top=(50+ (Math.random()-0.5)*20)+'%'; p.style.width='6px'; p.style.height='6px'; p.style.background='#ff5b5b'; document.body.appendChild(p); setTimeout(()=>p.remove(),1200); } }
next();
</script>
</body>
</html>
